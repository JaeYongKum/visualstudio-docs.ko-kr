---
title: "관리 코드에 대한 사용자 지정 코드 분석 체크 인 정책 구현 | Microsoft Docs"
ms.custom: ""
ms.date: "12/12/2016"
ms.prod: "visual-studio-dev14"
ms.reviewer: ""
ms.suite: ""
ms.technology: 
  - "vs-ide-general"
ms.tgt_pltfrm: ""
ms.topic: "article"
f1_keywords: 
  - "vs.code.analysis.selecttfsrulesets"
  - "vs.code.analysis.browsefortfsruleset"
  - "vs.code.analysis.policyeditor"
ms.assetid: fd029003-5671-4b24-8b6f-032e0a98b2e8
caps.latest.revision: 21
caps.handback.revision: 21
author: "stevehoag"
ms.author: "shoag"
manager: "wpickett"
---
# 관리 코드에 대한 사용자 지정 코드 분석 체크 인 정책 구현
[!INCLUDE[vs2017banner](../code-quality/includes/vs2017banner.md)]

코드 분석 체크 인 정책은 팀 프로젝트의 멤버가 소스 코드를 버전 제어에 체크 인하기 전에 소스 코드에 대해 실행해야 하는 규칙 집합을 지정합니다.  Microsoft에서는 코드 분석 규칙을 기능 영역으로 그룹화하는 여러 표준 *규칙 집합*을 제공합니다.  *사용자 지정 체크 인 정책 규칙 집합*은 팀 프로젝트와 관련된 코드 분석 규칙 집합을 지정합니다.  규칙 집합은 .ruleset 파일에 저장됩니다.  
  
 체크 인 정책은 팀 프로젝트 수준에서 설정되며 버전 제어 트리에서의 .ruleset 파일 위치에 따라 지정됩니다.  팀 정책 사용자 지정 규칙 집합의 버전 제어 위치에는 제한이 없습니다.  
  
 코드 분석은 각 프로젝트의 속성 창에서 개별 코드 프로젝트에 대해 구성됩니다.  코드 프로젝트에 대한 사용자 지정 규칙 집합은 로컬 컴퓨터에서 .ruleset 파일이 있는 실제 위치에 따라 지정됩니다.  코드 프로젝트와 동일한 드라이브에 있는 .ruleset 파일이 지정된 경우 Visual Studio는 프로젝트 구성에서 해당 파일에 대한 상대 경로를 사용합니다.  
  
 팀 프로젝트 사용자 지정 규칙 집합을 만드는 좋은 방법은 체크 인 정책의 .ruleset 파일을 코드 프로젝트에 포함되지 않은 특수한 폴더에 저장하는 것입니다.  이 파일을 전용 폴더에 저장하면 규칙 파일을 편집할 수 있는 사용자를 제한하는 사용 권한을 적용할 수 있으며, 프로젝트가 포함된 디렉터리 구조를 다른 디렉터리 또는 컴퓨터로 쉽게 이동할 수 있습니다.  
  
## 팀 프로젝트 사용자 지정 체크 인 규칙 집합 만들기  
 팀 프로젝트의 사용자 지정 규칙 집합을 만들려면 먼저 **소스 제어 탐색기**에서 체크 인 정책 규칙 집합을 저장할 특수 폴더를 만듭니다.  그런 다음 규칙 집합 파일을 만들고 이 파일을 버전 제어에 추가합니다.  마지막으로, 이 규칙 집합을 팀 프로젝트의 코드 분석 체크 인 정책으로 지정합니다.  
  
> [!NOTE]
>  팀 프로젝트에 폴더를 만들려면 먼저 팀 프로젝트 루트를 로컬 컴퓨터의 위치에 매핑해야 합니다.  자세한 내용은 [Create and work with workspaces \(old\)](http://msdn.microsoft.com/ko-kr/db4d5692-179a-44fe-ad31-0c1c900c9cb2)을 참조하십시오.  
  
#### 체크 인 정책 규칙 집합을 저장할 버전 제어 폴더를 만들려면  
  
1.  [!INCLUDE[esprtfc](../code-quality/includes/esprtfc_md.md)]에서 팀 프로젝트 노드를 확장하고 **버전 제어**를 클릭합니다.  
  
2.  **폴더** 창에서 팀 프로젝트를 마우스 오른쪽 단추로 클릭한 다음 **새 폴더**를 클릭합니다.  
  
3.  주 소스 제어 창에서 **새 폴더**를 마우스 오른쪽 단추로 클릭하고 **이름 바꾸기**를 클릭한 다음 규칙 집합 폴더의 이름을 입력합니다.  
  
#### 체크 인 정책 규칙 집합을 만들려면  
  
1.  **파일** 메뉴에서 **새로 만들기**를 가리키고 **파일**을 클릭합니다.  
  
2.  **범주** 목록에서 **일반**을 클릭합니다.  
  
3.  **템플릿** 목록에서 **코드 분석 규칙 집합**을 두 번 클릭합니다.  
  
4.  규칙 집합에 포함할 규칙을 지정한 다음 이 규칙 집합 파일을 앞에서 만든 규칙 집합 폴더에 저장합니다.  
  
     자세한 내용은 [사용자 지정 규칙 집합 만들기](../code-quality/creating-custom-code-analysis-rule-sets.md)을 참조하십시오.  
  
#### 규칙 집합 파일을 버전 제어에 추가하려면  
  
1.  **소스 제어 탐색기**에서 새 폴더를 마우스 오른쪽 단추로 클릭한 다음 **폴더에 항목 추가**를 클릭합니다.  
  
     자세한 내용은 [버전 제어 사용](../Topic/Use%20version%20control.md)을 참조하십시오.  
  
2.  앞에서 만든 규칙 집합 파일을 클릭하고 **마침**을 클릭합니다.  
  
     해당 파일이 소스 제어에 추가되고 사용자에게 체크 아웃됩니다.  
  
3.  **소스 제어 탐색기**의 세부 정보 창에서 해당 파일 이름을 마우스 오른쪽 단추로 클릭하고 **보류 중인 변경 내용 체크 인**을 클릭합니다.  
  
4.  **체크 인** 대화 상자에서 필요에 따라 설명을 추가한 다음 **체크 인**을 클릭합니다.  
  
    > [!NOTE]
    >  팀 프로젝트의 코드 분석 체크 인 정책을 이미 구성하고 **현재 솔루션에 속하는 파일만 포함하도록 체크 인 적용**을 선택한 경우 정책 실패 경고가 트리거됩니다.  이 경우 정책 실패 대화 상자에서 **정책 실패를 무시하고 체크 인 계속**을 선택합니다.  그런 다음 필요한 설명을 추가하고 **확인**을 클릭합니다.  
  
#### 규칙 집합 파일을 체크 인 정책으로 지정하려면  
  
1.  **팀** 메뉴에서 **팀 프로젝트 설정**을 가리킨 다음 **소스 제어**를 클릭합니다.  
  
2.  **체크 인 정책**을 클릭하고 **추가**를 클릭합니다.  
  
3.  **체크 인 정책** 목록에서 **코드 분석**을 두 번 클릭하고 **관리 코드에 대한 코드 분석 적용** 확인란이 선택되어 있는지 확인합니다.  
  
4.  **이 규칙 집합 실행**목록에서 **\<소스 제어에서 규칙 집합 선택\>**을 클릭합니다.  
  
5.  버전 제어에 있는 체크 인 정책 규칙 집합 파일의 경로를 입력합니다.  
  
     이 경로는 다음 구문을 따라야 합니다.  
  
     **$\/** `TeamProjectName` **\/** `VersionControlPath`  
  
    > [!NOTE]
    >  **소스 제어 탐색기**에서 다음 절차 중 하나를 따라 경로를 복사할 수 있습니다.  
  
    -   **폴더** 창에서 규칙 집합 파일이 포함된 폴더를 클릭합니다.  **소스** 상자에 나타나는 폴더의 버전 제어 경로를 복사하고 규칙 집합 파일의 이름을 수동으로 입력합니다.  
  
    -   세부 정보 창에서 규칙 집합 파일을 마우스 오른쪽 단추로 클릭한 다음 **속성**을 클릭합니다.  **일반** 탭에서 **서버 이름**의 값을 복사합니다.  
  
## 코드 프로젝트를 체크 인 정책 규칙 집합과 동기화  
 코드 프로젝트의 속성 대화 상자에서 팀 프로젝트 체크 인 정책 규칙 집합을 코드 프로젝트 구성의 코드 분석 규칙 집합으로 지정할 수 있습니다.  이 규칙 집합이 코드 프로젝트와 동일한 드라이브에 있으면 파일 대화 상자에서 경로를 선택할 때 규칙 집합을 지정하는 데 상대 경로가 사용됩니다.  상대 경로를 사용하면 비슷한 로컬 버전 제어 구조를 사용하는 다른 컴퓨터로 프로젝트 속성 설정을 이식할 수 있습니다.  
  
#### 팀 프로젝트 규칙 집합을 코드 프로젝트의 규칙 집합으로 지정하려면  
  
1.  필요한 경우 버전 제어에서 체크 인 정책 규칙 집합 폴더 및 파일을 검색합니다.  
  
     **소스 제어 탐색기**에서 규칙 집합 폴더를 마우스 오른쪽 단추로 클릭한 다음 **최신 버전 가져오기**를 클릭하여 이 단계를 수행할 수 있습니다.  
  
2.  **솔루션 탐색기**에서 코드 프로젝트를 마우스 오른쪽 단추로 클릭하고 **속성**을 클릭합니다.  
  
3.  **코드 분석**을 클릭합니다.  
  
4.  필요한 경우 **구성** 및 **플랫폼** 목록에서 적절한 옵션을 클릭합니다.  
  
5.  지정한 구성을 사용하여 코드 프로젝트가 빌드될 때마다 코드 분석을 실행하려면 **빌드에 코드 분석 사용\(CODE\_ANALYSIS 상수 정의\)** 확인란을 선택합니다.  
  
6.  타사 구성 요소의 코드를 무시하려면 **생성된 코드 결과 표시 안 함** 확인란을 선택합니다.  
  
7.  **이 규칙 집합 실행**목록에서 **\<찾아보기...\>**를 클릭합니다.  
  
8.  체크 인 정책 규칙 집합 파일의 로컬 버전을 지정합니다.